<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="libs/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
</head>
<body class="sidepanel-closed">
    

    
    <!-- Add the search form with a category dropdown -->
    <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="GET" class="search-form" >
    
        <div class="input-group search_ pull-right" >

            <div class="form-outline" >
                <input type="search" name="search" id="form1" class="form-control" placeholder="Search by name"style="  z-index: -1;" >
                <label class="form-label" for="form1"></label>
            </div>

            <select name="categorie" class="form-select" >
                <option  value="all">All Categories</option>
                <?php echo $categoryOptions; // Output generated category options ?>
            </select>
            <button type="submit" class="btn btn-primary">
                <i class="fa fa-search"></i>
            </button>
        </div>
    
    </form>
    <br>
    <br>

    
            <div class="card_containerr clickable-div" data-id="<?php echo $record['id']; ?>">
                <div class="card">
                    <img class="imgg" src="uploads/products/<?php echo $record['file_name']; ?>">
                    <div id="container">
                        <h4><b> <?php echo $record['name']; ?></b></h4>
                        <p> Quantity : <?php echo $record['quantity']; ?></p>
                        <p> Description : <?php echo $truncatedDescription; ?></p> <!-- Display truncated description -->
                        <div class="in">
                            <p class="label price_card label-warning pull-right"> <?php echo $record['sale_price']; echo " L.E"; ?></p>
                        </div>
                    </div>
                </div>
            </div>
        

<script>
  /* Toggle the sidebar open or closed and update body class */
  function toggleNav() {
    var body = document.body;
    var sidepanel = document.getElementById("mySidepanel");
    
    if (body.classList.contains("sidepanel-closed")) {
      // If the sidebar is closed, open it
      body.classList.remove("sidepanel-closed");
      body.classList.add("sidepanel-open");
      sidepanel.style.width = "250px";
    } else {
      // If the sidebar is open, close it
      body.classList.remove("sidepanel-open");
      body.classList.add("sidepanel-closed");
      sidepanel.style.width = "0";
    }
  }
</script>
<script>
            document.addEventListener("DOMContentLoaded", function() {
              var clickableDivs = document.querySelectorAll(".clickable-div");
              
              clickableDivs.forEach(function(div) {
                div.addEventListener("click", function() {
                  // Get the product ID from the data-id attribute
                  var productId = this.getAttribute("data-id");
                  
                  // Construct the URL for product_details.html with the product ID
                  var url = "product_details.html?id=" + productId;
                  
                  // Navigate to the URL
                  window.location.href = url;
                });
              });
            });
          </script>
    

    <?php include_once('layouts/footer.html'); ?>

</body>
</html>
